(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{170:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},i=0,r=e.length;i<r;i++)t[e.charAt(i)]=i;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(u){return u.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)].join("")},btoa=global.btoa?function(b){return global.btoa(b)}:function(b){return b.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(u){return(u.constructor===buffer.constructor?u:buffer.from(u)).toString("base64")}:function(u){return(u.constructor===buffer.constructor?u:new buffer(u)).toString("base64")}:function(u){return btoa(utob(u))},encode=function(u,e){return e?_encode(String(u)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(u))},encodeURI=function(u){return encode(u,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(b){return b.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][r],o.join("")},_atob=global.atob?function(a){return global.atob(a)}:function(a){return a.replace(/\S{1,4}/g,cb_decode)},atob=function(a){return _atob(String(a).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(a){return(a.constructor===buffer.constructor?a:buffer.from(a,"base64")).toString()}:function(a){return(a.constructor===buffer.constructor?a:new buffer(a,"base64")).toString()}:function(a){return btou(_atob(a))},decode=function(a){return _decode(String(a).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__(26))},171:function(e,t,r){"use strict";r.r(t);var n=r(67),o=r.n(n),c=r(170),l={name:"SetupCard",data:function(){return{loginMessage:"",user:"",password:"",ip:""}},methods:{connect:function(){var e=this;o()({method:"post",data:{ip:this.ip,authToken:c.Base64.encode(this.user.concat(":",this.password))},url:"/api/login"}).then(function(t){e.loginMessage=t.data.message})}}},d=r(19),v=Object(d.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      Setup Server\n    ")]),e._v(" "),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{"prepend-icon":"settings_ethernet",name:"ipaddress",label:"Server IP",type:"text"},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),e._v(" "),r("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),e._v(" "),r("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v("\n      "+e._s(e.loginMessage)+"\n    ")],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:e.connect}},[e._v("\n        Login\n      ")])],1)],1)],1)},[],!1,null,"54791312",null).exports,_={name:"EditVmCard",props:["vm"],data:function(){return{dialog:!1}}},f={name:"UsbDetail",props:["detail","server","ip"],data:function(){return{vMSelector:!1,dialogue:!1}},methods:{requestMove:function(){var e=this;o()({method:"post",url:"api/usbAttach",data:{id:this.vMSelector,usbId:this.detail.id,server:this.ip}}).then(function(t){e.dialogue=!1,t&&console.log(t)})}}},h={name:"ServerCardVue",components:{EditVmCard:Object(d.a)(_,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"info",dark:""}},n),[e._v("\n      Edit\n    ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline grey",attrs:{"primary-title":""}},[e._v("\n      "+e._s(e.vm.name)+"\n    ")]),e._v(" "),r("v-card-text",[e._v("\n      This will contain edit options.\n    ")]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n        Confirm\n      ")])],1)],1)],1)},[],!1,null,"eb7055b2",null).exports,UsbDetail:Object(d.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-chip",e._g({staticStyle:{overflow:"hidden","max-width":"95%","min-width":"20px"}},n),[e._v("\n        "+e._s(e.detail.name)+"\n    ")])]}}]),model:{value:e.dialogue,callback:function(t){e.usbDialogue=t},expression:"dialogue"}},[e._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline grey",attrs:{"primary-title":""}},[e._v("\n      "+e._s(e.detail.name)+"\n    ")]),e._v(" "),r("v-card-text",[r("v-select",{attrs:{items:Object.keys(e.server.vm.details).map(function(t){return e.server.vm.details[t]}),"item-text":"name","item-value":"id",label:"VM"},model:{value:e.vMSelector,callback:function(t){e.usbVMSelector=t},expression:"vMSelector"}})],1),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.requestMove}},[e._v("\n        Confirm\n      ")])],1)],1)],1)},[],!1,null,"096b9b54",null).exports},props:["server","ip"],methods:{startVM:function(e){"paused"===e.status?this.changeVMStatus(e,"domain-resume"):this.changeVMStatus(e,"domain-start")},pauseVM:function(e){this.changeVMStatus(e,"domain-pause")},stopVM:function(e){this.changeVMStatus(e,"domain-stop")},forceStopVM:function(e){this.changeVMStatus(e,"domain-destroy")},changeVMStatus:function(e, t){var r=this;this.server.vm.details[e.id].isBusy=!0,o()({method:"post",url:"api/vmStatus",data:{id:e.id,action:t,server:this.ip}}).then(function(t){t&&(r.server.vm.details[e.id].isBusy=!1,t.data&&t.data.message&&t.data.message.success?r.server.vm.details[e.id].status=t.data.message.state:t&&t.data&&t.data.message&&t.data.message.error&&("Requested operation is not valid: domain is not running"===t.data.message.error&&(r.server.vm.details[e.id].status="stopped"),alert(t.data.message.error)))})}}},m={components:{SetupCard:v,ServerCard:Object(d.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.server.serverDetails?e.server.serverDetails.title:"Server")+"\n    ")]),e._v(" "),r("v-expansion-panel",[e.server.vm?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n          Details\n        ")]},proxy:!0}],null,!1,64795456)},[e._v(" "),r("v-chip",[e._v("IP: "+e._s(e.ip))]),e._v(" "),e._l(e.server.serverDetails,function(t,n){return r("v-chip",{key:n},[e._v("\n          "+e._s(n.charAt(0).toUpperCase()+n.slice(1))+": "+e._s(t)+"\n        ")])})],2):e._e(),e._v(" "),e.server.vm?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n          VMs:\n        ")]},proxy:!0}],null,!1,3492049680)},[e._v(" "),r("v-expansion-panel",e._l(e.server.vm.details,function(t){return r("v-expansion-panel-content",{key:t.id,staticStyle:{display:"inline-block"},scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticStyle:{width:"50%"}},[e._v("\n                "+e._s(t.name)+"\n                "),r("div",["started"!==t.status?r("v-btn",{attrs:{disabled:t.isBusy,color:"success",fab:"",small:"",dark:""},on:{click:function(r){return e.startVM(t)}}},[r("v-icon",{staticStyle:{"font-size":"28px"}},[e._v("\n                      play_circle_outline\n                    ")])],1):e._e(),e._v(" "),"started"===t.status?r("v-btn",{attrs:{disabled:t.isBusy,color:"warning",fab:"",small:"",dark:""},on:{click:function(r){return e.pauseVM(t)}}},[r("v-icon",{staticStyle:{"font-size":"28px"}},[e._v("\n                      pause_circle_outline\n                    ")])],1):e._e(),e._v(" "),"stopped"!==t.status?r("v-btn",{attrs:{disabled:t.isBusy,color:"error",fab:"",small:"",dark:""},on:{click:function(r){return e.stopVM(t)}}},[r("v-icon",{staticStyle:{"font-size":"28px"}},[e._v("\n                      stop\n                    ")])],1):e._e(),e._v(" "),"stopped"!==t.status?r("v-btn",{attrs:{disabled:t.isBusy,color:"black",fab:"",small:"",dark:""},on:{click:function(r){return e.forceStopVM(t)}}},[r("v-icon",{staticStyle:{"font-size":"28px"}},[e._v("\n                      cancel\n                    ")])],1):e._e()],1)]),e._v(" "),r("v-chip",{class:{success:"started"===t.status,error:"stopped"===t.status,warning:"paused"===t.status},staticStyle:{width:"20px"},attrs:{right:"","justify-center":""}},[t.isBusy?r("v-progress-circular",{staticStyle:{width:"20px"},attrs:{indeterminate:""}}):e._e(),e._v(" "),t.isBusy?e._e():r("div",[e._v("\n                  "+e._s(t.status)+"\n                ")])],1)]},proxy:!0}],null,!0)},[e._v(" "),r("img",{staticClass:"left",attrs:{src:"http://"+e.ip+t.icon}}),e._v(" "),r("edit-vm-card",{attrs:{vm:t}}),e._v(" "),r("v-chip",[e._v(e._s(t.id))]),e._v(" "),r("v-chip",[e._v("Cores: "+e._s(t.coreCount))]),e._v(" "),r("v-chip",[e._v("RAM: "+e._s(t.ramAllocation))]),e._v(" "),r("v-chip",[e._v("HDD: "+e._s(t.hddAllocation.total))]),e._v(" "),r("v-chip",[e._v("Primary GPU: "+e._s(t.primaryGPU))]),e._v(" "),r("v-expansion-panel",[e._v("\n              Disks:\n              "),e._l(t.hddAllocation.all,function(t,n){return r("v-expansion-panel-content",{key:n,scopedSlots:e._u([{key:"header",fn:function(){return[r("div",[e._v(e._s(n))])]},proxy:!0}],null,!0)},[e._v(" "),e._l(t,function(t,n){return r("v-chip",{key:n},[e._v("\n                  "+e._s(n)+": "+e._s(t)+"\n                ")])}),e._v(" "),r("br")],2)}),e._v(" "),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n                  USBs:\n                ")]},proxy:!0}],null,!0)},[e._v(" "),e._l(t.edit.usbs,function(t){return r("div",{key:t.id},[t.checked?r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}}):e._e()],1)})],2),e._v(" "),t.edit.pcis?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n                  PCI Devices\n                ")]},proxy:!0}],null,!0)},[e._v(" "),r("v-expansion-panel",[t.edit.pcis?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n                      GPUs\n                    ")]},proxy:!0}],null,!0)},[e._v(" "),e._l(t.edit.pcis,function(t,n){return r("div",{key:n},[t.gpu&&t.checked?r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}}):e._e()],1)})],2):e._e(),t.edit.pcis?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n                    Sound\n                  ")]},proxy:!0}],null,!0)},[e._v(" "),e._l(t.edit.pcis,function(t,n){return r("div",{key:n},[t.sound&&t.checked?r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}}):e._e()],1)})],2):e._e(),t.edit.pcis?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n                    Other\n                  ")]},proxy:!0}],null,!0)},[e._v(" "),e._l(t.edit.pcis,function(t,n){return r("div",{key:n},[t.sound||t.gpu||!t.checked?e._e():r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}})],1)})],2):e._e()],1)],1):e._e()],2)],1)}),1)],1):e._e(),e._v(" "),e.server.usbDetails?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n          USBs\n        ")]},proxy:!0}],null,!1,425323221)},[e._v(" "),e._l(e.server.usbDetails,function(t,n){return r("div",{key:n},[r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}})],1)})],2):e._e(),e._v(" "),e.server.pciDetails?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n          PCI Devices\n        ")]},proxy:!0}],null,!1,3941566003)},[e._v(" "),r("v-expansion-panel",[e.server.pciDetails?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n              GPUs\n            ")]},proxy:!0}],null,!1,3579674099)},[e._v(" "),e._l(e.server.pciDetails,function(t,n){return r("div",{key:n},[t.gpu?r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}}):e._e()],1)})],2):e._e(),e.server.pciDetails?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n            Sound\n          ")]},proxy:!0}],null,!1,3254520289)},[e._v(" "),e._l(e.server.pciDetails,function(t,n){return r("div",{key:n},[t.sound?r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}}):e._e()],1)})],2):e._e(),e.server.pciDetails?r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n            Other\n          ")]},proxy:!0}],null,!1,964617574)},[e._v(" "),e._l(e.server.pciDetails,function(t,n){return r("div",{key:n},[t.sound||t.gpu?e._e():r("usb-detail",{attrs:{detail:t,server:e.server,ip:e.ip}})],1)})],2):e._e()],1)],1):e._e(),e._v(" "),e._e()],1)],1)],1)},[],!1,null,null,null).exports},data:function(){return{servers:[]}},mounted:function(){this.getServers()},methods:{getServers:function(){var e=this;o()({method:"get",url:"api/getServers"}).then(function(t){e.servers=t.data.servers,setTimeout(function(){return e.getServers()},3e4)})}}},y=Object(d.a)(m,function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[t("v-layout",{attrs:{row:"",wrap:"","pa-3":"","mb-2":""}},[t("setup-card"),this._v(" "),this._l(this.servers,function(e,r){return t("server-card",{key:r,attrs:{server:e,ip:r}})})],2)],1)},[],!1,null,null,null);t.default=y.exports}}]);